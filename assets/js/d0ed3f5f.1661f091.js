"use strict";(self.webpackChunk_5_shangzhi_github_io=self.webpackChunk_5_shangzhi_github_io||[]).push([[260],{3905:(e,a,t)=>{t.d(a,{Zo:()=>u,kt:()=>c});var n=t(67294);function o(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(Object(t),!0).forEach((function(a){o(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function l(e,a){if(null==e)return{};var t,n,o=function(e,a){if(null==e)return{};var t,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(o[t]=e[t]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var d=n.createContext({}),s=function(e){var a=n.useContext(d),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},u=function(e){var a=s(e.components);return n.createElement(d.Provider,{value:a},e.children)},p={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},m=n.forwardRef((function(e,a){var t=e.components,o=e.mdxType,r=e.originalType,d=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),m=s(t),c=o,h=m["".concat(d,".").concat(c)]||m[c]||p[c]||r;return t?n.createElement(h,i(i({ref:a},u),{},{components:t})):n.createElement(h,i({ref:a},u))}));function c(e,a){var t=arguments,o=a&&a.mdxType;if("string"==typeof e||o){var r=t.length,i=new Array(r);i[0]=m;var l={};for(var d in a)hasOwnProperty.call(a,d)&&(l[d]=a[d]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var s=2;s<r;s++)i[s]=t[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}m.displayName="MDXCreateElement"},11098:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>d,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>l,toc:()=>s});var n=t(87462),o=(t(67294),t(3905));const r={slug:"Android-Emulator-running-on-Apple-M1-machines-without-Android-Studio",title:"How to install Android Emulator on Apple M1 machines without  Android Studio",authors:"5shangzhi",description:"How to install Android Emulator on Apple M1 machines without Android Studio",image:"https://5shangzhi.github.io/img/frog-200.png",keywords:["Android","Emulator","Apple","M1","MacOS","\u4e95\u86d9\u60ca\u68a6\u4eba","\u5434\u5c1a\u667a"]},i=void 0,l={permalink:"/blog/Android-Emulator-running-on-Apple-M1-machines-without-Android-Studio",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/Android Emulator running on Apple M1 machines (without installing Android Studio).md",source:"@site/blog/Android Emulator running on Apple M1 machines (without installing Android Studio).md",title:"How to install Android Emulator on Apple M1 machines without  Android Studio",description:"How to install Android Emulator on Apple M1 machines without Android Studio",date:"2022-06-21T01:33:35.000Z",formattedDate:"2022\u5e746\u670821\u65e5",tags:[],readingTime:1.665,hasTruncateMarker:!1,authors:[{name:"\u5434\u5c1a\u667a",title:"\u4e95\u86d9\u60ca\u68a6\u4eba",url:"https://github.com/5shangzhi",imageURL:"https://avatars.githubusercontent.com/u/103982059",key:"5shangzhi"}],frontMatter:{slug:"Android-Emulator-running-on-Apple-M1-machines-without-Android-Studio",title:"How to install Android Emulator on Apple M1 machines without  Android Studio",authors:"5shangzhi",description:"How to install Android Emulator on Apple M1 machines without Android Studio",image:"https://5shangzhi.github.io/img/frog-200.png",keywords:["Android","Emulator","Apple","M1","MacOS","\u4e95\u86d9\u60ca\u68a6\u4eba","\u5434\u5c1a\u667a"]},prevItem:{title:"\u6311\u897f\u74dc\u7684\u542f\u793a",permalink:"/blog/wusz-2022-06-22"},nextItem:{title:"\u5979\u4e3e\u8d77\u4e86\u5c0f\u624b\uff0c\u8fd8\u6709\u5979\u7684\u6bdb\u7ed2\u5154\uff01",permalink:"/blog/wusz-2022-06-17"}},d={authorsImageUrls:[void 0]},s=[{value:"1. Install android command line tools",id:"1-install-android-command-line-tools",level:3},{value:"2. Install java if you haven&#39;t it",id:"2-install-java-if-you-havent-it",level:3},{value:"3. You can verify that sdkmanager works:",id:"3-you-can-verify-that-sdkmanager-works",level:3},{value:"4. Set PATH environment variable in file <code>~/.zshrc</code> or <code>~/.bashrc</code>",id:"4-set-path-environment-variable-in-file-zshrc-or-bashrc",level:3},{value:"5. Download Android components:",id:"5-download-android-components",level:3},{value:"6. Create a virtual Android devcie to run in the emulator.",id:"6-create-a-virtual-android-devcie-to-run-in-the-emulator",level:3},{value:"7. Normally, you need enable hardware keyboard",id:"7-normally-you-need-enable-hardware-keyboard",level:3},{value:"8. Now, It&#39;s time to start your emulator.",id:"8-now-its-time-to-start-your-emulator",level:3},{value:"9. You can install you app via <code>adb</code>",id:"9-you-can-install-you-app-via-adb",level:3},{value:"APPENDIX: Reference link of this document.",id:"appendix-reference-link-of-this-document",level:3}],u={toc:s};function p(e){let{components:a,...r}=e;return(0,o.kt)("wrapper",(0,n.Z)({},u,r,{components:a,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Android Studio is a big Application. If you are not an Android programmer, you don't need it. But sometimes you need an Android Emulator running on your Apple M1 machines. So this document is for you."),(0,o.kt)("p",null,"It works well on my Macbook."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"\u4e95\u86d9\u60ca\u68a6\u4eba",src:t(17206).Z,width:"1076",height:"1914"})),(0,o.kt)("h3",{id:"1-install-android-command-line-tools"},"1. Install android command line tools"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"$ brew install android-commandlinetools\n")),(0,o.kt)("p",null,"You will get ",(0,o.kt)("strong",{parentName:"p"},"sdkmanager")," and ",(0,o.kt)("strong",{parentName:"p"},"avdmanager")," available, but they need Java."),(0,o.kt)("h3",{id:"2-install-java-if-you-havent-it"},"2. Install java if you haven't it"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"$ brew install --cask temurin\n")),(0,o.kt)("h3",{id:"3-you-can-verify-that-sdkmanager-works"},"3. You can verify that sdkmanager works:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"$ sdkmanager --version\n")),(0,o.kt)("h3",{id:"4-set-path-environment-variable-in-file-zshrc-or-bashrc"},"4. Set PATH environment variable in file ",(0,o.kt)("inlineCode",{parentName:"h3"},"~/.zshrc")," or ",(0,o.kt)("inlineCode",{parentName:"h3"},"~/.bashrc")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"$ mkdir -p $HOME/Library/Android/sdk\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},'export ANDROID_SDK_ROOT=$HOME/Library/Android/sdk\nif [ -d $ANDROID_SDK_ROOT ]\nthen\n  PATH="$ANDROID_SDK_ROOT/emulator:$ANDROID_SDK_ROOT/platform-tools:$PATH"\nfi\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"$ source ~/.zshrc\n")),(0,o.kt)("h3",{id:"5-download-android-components"},"5. Download Android components:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},'$ sdkmanager --install --sdk_root=$ANDROID_SDK_ROOT \\\n"platform-tools" "emulator" \\\n"platforms;android-30" \\\n"system-images;android-30;google_apis_playstore;arm64-v8a"\n')),(0,o.kt)("p",null,"Maybe you need run this command if you encounter a MacOS system permission problem: "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"$ xattr -dr com.apple.quarantine emulator/\n")),(0,o.kt)("h3",{id:"6-create-a-virtual-android-devcie-to-run-in-the-emulator"},"6. Create a virtual Android devcie to run in the emulator."),(0,o.kt)("p",null,"Note: --package ",(0,o.kt)("inlineCode",{parentName:"p"},"params"),", the ",(0,o.kt)("strong",{parentName:"p"},"params")," value is the name you downloaded via sdkmanager in the previous step."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},'$ avdmanager create avd \\\n--name "android30" --device "pixel" \\\n--package "system-images;android-30;google_apis_playstore;arm64-v8a"\n')),(0,o.kt)("p",null,"You can create as many virtual devices as you like. Just repeat the step above with different parameters."),(0,o.kt)("h3",{id:"7-normally-you-need-enable-hardware-keyboard"},"7. Normally, you need enable hardware keyboard"),(0,o.kt)("p",null,"By default, your computer keyboard is not available in the emulator you just created. You can enable it in this file: \xa0",(0,o.kt)("inlineCode",{parentName:"p"},"~/.android/avd/android30.avd/config.ini")," (replace\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"android30"),"\xa0with the name of your device)."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-diff"},"- hw.keyboard = no\n- hw.keyboard.lid = yes\n+ hw.keyboard = yes\n+ hw.keyboard.lid = no\nhw.keyboard.charmap = qwerty2\n")),(0,o.kt)("h3",{id:"8-now-its-time-to-start-your-emulator"},"8. Now, It's time to start your emulator."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"$ emulator -avd android30\n")),(0,o.kt)("h3",{id:"9-you-can-install-you-app-via-adb"},"9. You can install you app via ",(0,o.kt)("inlineCode",{parentName:"h3"},"adb")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"$ adb install my-app.apk\n")),(0,o.kt)("h3",{id:"appendix-reference-link-of-this-document"},"APPENDIX: Reference link of this document."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"https://bajtos.net/posts/2021-12-17-apple-m1-android-emulator/"},"https://bajtos.net/posts/2021-12-17-apple-m1-android-emulator/")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"https://stackoverflow.com/a/34799349"},"https://stackoverflow.com/a/34799349"))))}p.isMDXComponent=!0},17206:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/android-emulator-on-macos-m1-dce521aef3a2a919a9e7bb77a8aa891a.png"}}]);